<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:p="http://primefaces.org/ui"
				xmlns:c="http://java.sun.com/jsp/jstl/core"
				template="plantilla/plantilla.xhtml">

	<ui:define name="cuerpo">

		<div id="tituloCrearEncuesta">
			<h1 style="text-align: center" > Crear Encuesta </h1>
		</div>


		<h:form id="preCrearEncuesta">

			<p:accordionPanel styleClass="acordeonCrearEncuesta" activeIndex="#{crearEncuestaBean.tabActiva}" rendered="#{crearEncuestaBean.preCreacion}">
				<p:ajax event="tabChange"/>

				<p:tab id="EncuestaNueva" title="Crear encuesta nueva" >
					<p:panelGrid id="crearNueva" styleClass="panelInvisible panelAcordeon" style="width: 80%" >

						<p:row>
							<p:column styleClass="colIzqCrearEncuesta">
								<h:outputLabel value="Nombre"/>
							</p:column>

							<p:column styleClass="colDerCrearEncuesta">
								<p:inputText id="titulo" value="#{crearEncuestaBean.encuesta.nombre}" maxlength="50" required="true"
											 requiredMessage="Debe ingresar un nombre para la encuesta">
								</p:inputText>
								<h:outputLabel value="*" styleClass="requerido"/>
							</p:column>
						</p:row>

						<p:row>
							<p:column colspan="2" styleClass="botonPreCreacion">
								<p:commandButton id="continuar" value="Continuar" process="@this titulo"
										action="#{crearEncuestaBean.bt_continuar}" update="@form :CrearEncuesta"/>
							</p:column>
						</p:row>

					</p:panelGrid>
				</p:tab>

				<p:tab id="EncuestaCopia" title="Crear copia de encuesta existente">

					<p:panelGrid id="editarExistente" styleClass="panelInvisible panelAcordeon" style="width: 80%" >

						<p:row>
							<p:column styleClass="colIzqCrearEncuesta">
								<h:outputLabel value="Encuesta"/>
							</p:column>

							<p:column styleClass="colDerCrearEncuesta">
								<p:selectOneMenu id="copiaEncuesta" value="#{crearEncuestaBean.encuesta.id}" style="width:250px" required="true"
												 requiredMessage="Debe ingresar una encuesta a copiar">
									<f:selectItem itemLabel="Seleccione" noSelectionOption="true"/>
									<f:selectItems value="#{crearEncuestaBean.encuestasCopia}" var="encuesta"
												   itemLabel="#{encuesta.nombre}" itemValue="#{encuesta.id}"/>

									<p:ajax listener="#{crearEncuestaBean.seleccionEncuestaCopia}" update="outputCopiaGroup inputCopiaGroup" />
								</p:selectOneMenu>
								<h:outputLabel value="*" styleClass="requerido"/>
							</p:column>
						</p:row>

							<p:row >
								<p:column styleClass="colIzqCrearEncuesta">
									<h:panelGroup id="outputCopiaGroup">
										<h:outputLabel value="Nombre" rendered="#{crearEncuestaBean.encuesta.id != 0}" />
									</h:panelGroup>
								</p:column>

								<p:column styleClass="colDerCrearEncuesta">
									<h:panelGroup id="inputCopiaGroup">
										<p:inputText id="tituloCopia" value="#{crearEncuestaBean.encuesta.nombre}" maxlength="50" required="true"
													 requiredMessage="Debe ingresar un nombre para la encuesta" rendered="#{crearEncuestaBean.encuesta.id != 0}">
										</p:inputText>
										<h:outputLabel value="*" styleClass="requerido" rendered="#{crearEncuestaBean.encuesta.id != 0}" />
									</h:panelGroup>
								</p:column>
							</p:row>


						<p:row>
							<p:column colspan="2" styleClass="botonPreCreacion">
								<p:commandButton id="continuarCopia" value="Continuar" update="@form :CrearEncuesta"
												 action="#{crearEncuestaBean.bt_continuar}" process="@this copiaEncuesta tituloCopia"/>
							</p:column>
						</p:row>
					</p:panelGrid>
				</p:tab>
			</p:accordionPanel>

		</h:form>

		<h:form id="CrearEncuesta">

			<h:panelGroup id="crearEncuestaGroup" rendered="#{!crearEncuestaBean.preCreacion}">
					HOLAAA PRUEBA DE OTRO FORMULARIOO
			</h:panelGroup>

		</h:form>

	</ui:define>

</ui:composition>
